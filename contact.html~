<?php
	$fullName = $email = $subject = $emailErr = $message = "";
	
	function test_input($data) {
		$data = trim($data);
		$data = stripslashes($data);
		$data = htmlspecialchars($data);
		return $data;	
	}
	
	if ($_SERVER["REQUEST_METHOD") == "post") {
		$fullName = test_input($_POST["fullName"]);
		$email = test_input($_POST["email"]);
		if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
			$emailErr = "Your email address is not valid !";		
		}
		$subject = test_input($_POST["subject"]);
		$message = test_input($_POST["message"]);	
	}
?>
<!DOCTYPE html>
<html lang="en">
<head>
	<title>Get in touch with Carlos</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
  	<link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah" rel="stylesheet">
  	<link href="https://fonts.googleapis.com/css?family=Bahiana|Gloria+Hallelujah" rel="stylesheet">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
  	<link href="animate.min.css" type="text/css" rel="stylesheet">
	<style>
		body {background-image: url("pics/img3.jpg");background-repeat: no-repeat;background-size: cover;}
		* {padding: 0;margin: 0;}
		li {font-family: 'Bahiana', Verdana;font-size: 40px;}
		#highlight_underline {color: #6699ff;text-decoration: underline;}
		#details {list-style: none; text-align: center; margin-top: 120px;}
		#red {color: red; text-align: center; font-family: 'Gloria Hallelujah', sans-serif;font-size: 50px;}
		#first {font-size: 25px; margin-top: 60px;}
		#details li p {font-family: calibri, arial;font-size: 25px;color: yellow;font-weight: bold;}
		#details li {padding: 20px 5px;}
		#details img:first-child {margin-bottom: 10px;}
		#created {text-decoration: none;color: turquoise;}
		#credits {font-family: arial;font-size: 12;color  <li><a href="upcoming.php">upcoming events</a></li>: white;}
		#hover a:hover {color: #3333ff;}
		#message {padding-bottom: 80px;}		
		#form {margin-left: 10px;background: none;padding: 10px 10px;color: turquoise;width: 600px !important;margin-top: 100px;border: 5px solid turquoise;border-radius: 10px;}
		#submit {margin-top: 10px;width: 100%;}
		#errorMsg {font-weight: bold;color: white; text-align: center;border: 1px solid none;border-radius: 5px;background: red;}
		#successMsg {display:none; padding:5px;text-align:center; background-color: #5fd85b;font-weight: bold;color:white;border: 1px solid none; border-radius: 5px;}		
		p {margin-top: 6px;}		
		@media (max-width:400px) {
			#form {margin-left: 10px;background: none;padding: 10px 10px;color: turquoise;width: 300px !important;margin-top: 100px;border: 5px solid turquoise;border-radius: 10px;}
		}
	</style>
</head>
<body>
<body>


<nav class="navbar navbar-inverse navbar-fixed-top" id="my-navbar">
<div class="container">
<div class="header">
  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  </button>
</div>
<div class="collapse navbar-collapse" id="navbar-collapse">
<ul class="nav navbar-nav" id="hover">
  <li><a href="index.html">home</a></li>
  <li><a href="about.html">about me</a></li>
  <li><a href="my_work.html">my work</a></li>
  <li><a href="videogalery.html">Videogalery</a></li>
  <li><a href="contact.html" id="highlight_underline">contact me</a></li>
</ul>
</div>
</div>
</nav>

<div class="container wow bounceInDown" id="form">

	<div id="errorMsg"></div>
	<div id="successMsg"><p>Your message has been sent ! Thank you.</p></div>
	<?php echo emailErr; ?>
<form method="post" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']);?>">
	<fieldset class="form-group">
		<label for="fullName">Full name</label>
		<input type="text" class="form-control" id="fullName" placeholder="full name">
	</fieldset>
	<fieldset class="form-group">
		<label for="email">Email</label>
		<input type="email" id="email" placeholder="email" class="form-control">
		<small id="emailHelp" class="form-text text-muted">I won't share your email with anyone</small>
	</fieldset>
	<fieldset class="form-group">
		<label for="subject">Subject</label>
		<input type="text" class="form-control" id="subject" placeholder="subject">	
	</fieldset>
	<fieldset class="form-group">
		<label for="message">Your message</label>
		<input type="text" class="form-control" id="message" placeholder="message">
		<input type="button" id="submit" class="btn btn-success" id="btn" value="Submit">
	</fieldset>
</form>
</div>

<script src="wow.min.js"></script>
<script>new WOW().init();</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" ></script>
<script type="text/javascript">
function isEmail(email) {
  var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  return regex.test(email);
}
$("#submit").click(function () {
	var errorMsg = "";
	
	if ($("#fullName").val() == "") {
			errorMsg += "<p>Full name is required !</p>";
	}
	if (isEmail($("#email").val()) == false) {
			errorMsg += "<p>Your email address is not valid !</p>";
	}
	
	if ($("#subject").val() == "") {
			errorMsg += "<p>Subject is required !</p>";
	}
	if ($("#message").val() == "") {
			errorMsg += "<p>Message is required !</p>";
	}
	if (errorMsg != "") {
		$("#errorMsg").html(errorMsg);
		}
		 
});
</script>
</body>
</html>